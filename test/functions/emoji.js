const { Message, Collection } = require('discord.js')

// /<(a)?:([\w\d]{2,32})+:(\d{17,19})>/g
Object.defineProperties(Message.prototype, {
    'emojis': {
        get: function getEmojis() {
            this._emojis = new Collection()
            for (let match of this.content.matchAll(/😀|😃|😄|😁|😆|😅|😂|🤣|😇|😉|😊|🙂|🙃|☺|😋|😌|😍|🥰|😘|😗|😙|😚|🤪|😜|😝|😛|🤑|😎|🤓|🧐|🤠|🥳|🤗|🤡|😏|😶|😐|😑|😒|🙄|🤨|🤔|🤫|🤭|🤥|😳|😞|😟|😠|😡|🤬|😔|😕|🙁|☹|😬|🥺|😣|😖|😫|😩|🥱|😤|😮|😱|😨|😰|😯|😦|😧|😢|😥|😪|🤤|😓|😭|🤩|😵|🥴|😲|🤯|🤐|😷|🤕|🤒|🤮|🤢|🤧|🥵|🥶|😴|💤|😈|👿|👹|👺|💩|👻|💀|☠|👽|🤖|🎃|😺|😸|😹|😻|😼|😽|🙀|😿|😾|👐|🤲|🙌|👏|🙏|🤝|👍|👎|👊|✊|🤛|🤜|🤞|✌|🤘|🤟|👌|🤏|👈|👉|👆|👇|☝|✋|🤚|🖐|🖖|👋|🤙|💪|🦾|🖕|✍|🤳|💅|🦵|🦿|🦶|👄|🦷|👅|👂|🦻|👃|👁|👀|🧠|🦴|👤|👥|🗣|👶|👧|🧒|👦|👩|🧑|👨|👩‍🦱|🧑‍🦱|👨‍🦱|👩‍🦰|🧑‍🦰|👨‍🦰|👱‍♀️|👱|👱‍♂️|👩‍🦳|🧑‍🦳|👨‍🦳|👩‍🦲|🧑‍🦲|👨‍🦲|🧔|👵|🧓|👴|👲|👳‍♀️|👳|👳‍♂️|🧕|👼|👸|🤴|👰|🤵‍♀️|🤵|🤵‍♂️|🙇‍♀️|🙇|🙇‍♂️|💁‍♀️|💁|💁‍♂️|🙅‍♀️|🙅|🙅‍♂️|🙆‍♀️|🙆|🙆‍♂️|🤷‍♀️|🤷|🤷‍♂️|🙋‍♀️|🙋|🙋‍♂️|🤦‍♀️|🤦|🤦‍♂️|🧏‍♀️|🧏|🧏‍♂️|🙎‍♀️|🙎|🙎‍♂️|🙍‍♀️|🙍|🙍‍♂️|💇‍♀️|💇|💇‍♂️|💆‍♀️|💆|💆‍♂️|🤰|🤱|🧎‍♀️|🧎|🧎‍♂️|🧍‍♀️|🧍|🧍‍♂️|🚶‍♀️|🚶|🚶‍♂️|👩‍🦯|🧑‍🦯|👨‍🦯|🏃‍♀️|🏃|🏃‍♂️|👩‍🦼|🧑‍🦼|👨‍🦼|👩‍🦽|🧑‍🦽|👨‍🦽|💃|🕺|👫|👭|👬|🧑‍🤝‍🧑|👩‍❤️‍👨|👩‍❤️‍👩|💑|👨‍❤️‍👨|👩‍❤️‍💋‍👨|👩‍❤️‍💋‍👩|💏|👨‍❤️‍💋‍👨|❤|🧡|💛|💚|💙|💜|🤎|🖤|🤍|💔|❣|💕|💞|💓|💗|💖|💘|💝|💟|🐶|🐱|🐭|🐹|🐰|🐻|🧸|🐼|🐨|🐯|🦁|🐮|🐷|🐽|🐸|🐵|🙈|🙉|🙊|🐒|🦍|🦧|🐔|🐧|🐦|🐤|🐣|🐥|🐺|🦊|🦝|🐗|🐴|🦓|🦒|🦌|🦘|🦥|🦦|🦄|🐝|🐛|🦋|🐌|🐞|🐜|🦗|🕷|🕸|🦂|🦟|🦠|🐢|🐍|🦎|🐙|🦑|🦞|🦀|🦐|🦪|🐠|🐟|🐡|🐬|🦈|🐳|🐋|🐊|🐆|🐅|🐃|🐂|🐄|🐪|🐫|🦙|🐘|🦏|🦛|🐐|🐏|🐑|🐎|🐖|🦇|🐓|🦃|🕊|🦅|🦆|🦢|🦉|🦩|🦚|🦜|🐕|🦮|🐕‍🦺|🐩|🐈|🐇|🐀|🐁|🐿|🦨|🦡|🦔|🐾|🐉|🐲|🦕|🦖|🌵|🎄|🌲|🌳|🌴|🌱|🌿|☘|🍀|🎍|🎋|🍃|🍂|🍁|🌾|🌺|🌻|🌹|🥀|🌷|🌼|🌸|💐|🍄|🌰|🐚|🌎|🌍|🌏|🌕|🌖|🌗|🌘|🌑|🌒|🌓|🌔|🌙|🌚|🌝|🌛|🌜|⭐|🌟|💫|✨|☄|🪐|🌞|☀|🌤|⛅|🌥|🌦|☁|🌧|⛈|🌩|⚡|🔥|💥|❄|🌨|☃|⛄|🌬|💨|🌪|🌫|🌈|☔|💧|💦|🌊|⚽|🏀|🏈|⚾|🥎|🎾|🏐|🏉|🎱|🥏|🏓|🏸|🥅|🏒|🏑|🏏|🥍|🥌|⛳|🏹|🎣|🤿|🥊|🥋|⛸|🎿|🛷|⛷|🏂|🏋️‍♀️|🏋|🏋️‍♂️|🤺|🤼‍♀️|🤼|🤼‍♂️|🤸‍♀️|🤸|🤸‍♂️|⛹️‍♀️|⛹|⛹️‍♂️|🤾‍♀️|🤾|🤾‍♂️|🧗‍♀️|🧗|🧗‍♂️|🏌️‍♀️|🏌|🏌️‍♂️|🧘‍♀️|🧘|🧘‍♂️|🧖‍♀️|🧖|🧖‍♂️|🏄‍♀️|🏄|🏄‍♂️|🏊‍♀️|🏊|🏊‍♂️|🤽‍♀️|🤽|🤽‍♂️|🚣‍♀️|🚣|🚣‍♂️|🏇|🚴‍♀️|🚴|🚴‍♂️|🚵‍♀️|🚵|🚵‍♂️|🎽|🎖|🏅|🥇|🥈|🥉|🏆|🏵|🎗|🎫|🎟|🎪|🤹‍♀️|🤹|🤹‍♂️|🎭|🎨|🎬|🎤|🎧|🎼|🎹|🥁|🎷|🎺|🎸|🪕|🎻|🎲|🧩|♟|🎯|🎳|🪀|🪁|🎮|👾|🎰|👮‍♀️|👮|👮‍♂️|👩‍🚒|🧑‍🚒|👨‍🚒|👷‍♀️|👷|👷‍♂️|👩‍🏭|🧑‍🏭|👨‍🏭|👩‍🔧|🧑‍🔧|👨‍🔧|👩‍🌾|🧑‍🌾|👨‍🌾|👩‍🍳|🧑‍🍳|👨‍🍳|👩‍🎤|🧑‍🎤|👨‍🎤|👩‍🎨|🧑‍🎨|👨‍🎨|👩‍🏫|🧑‍🏫|👨‍🏫|👩‍🎓|🧑‍🎓|👨‍🎓|👩‍💼|🧑‍💼|👨‍💼|👩‍💻|🧑‍💻|👨‍💻|👩‍🔬|🧑‍🔬|👨‍🔬|👩‍🚀|🧑‍🚀|👨‍🚀|👩‍⚕️|🧑‍⚕️|👨‍⚕️|👩‍⚖️|🧑‍⚖️|👨‍⚖️|👩‍✈️|🧑‍✈️|👨‍✈️|💂‍♀️|💂|💂‍♂️|🕵️‍♀️|🕵|🕵️‍♂️|🤶|🎅|🕴️‍♀️|🕴|🕴️‍♂️|🦸‍♀️|🦸|🦸‍♂️|🦹‍♀️|🦹|🦹‍♂️|🧙‍♀️|🧙|🧙‍♂️|🧝‍♀️|🧝|🧝‍♂️|🧚‍♀️|🧚|🧚‍♂️|🧞‍♀️|🧞|🧞‍♂️|🧜‍♀️|🧜|🧜‍♂️|🧛‍♀️|🧛|🧛‍♂️|🧟‍♀️|🧟|🧟‍♂️|👯‍♀️|👯|👯‍♂️|👪|👨‍👩‍👧|👨‍👩‍👧‍👦|👨‍👩‍👦‍👦|👨‍👩‍👧‍👧|👩‍👩‍👦|👩‍👩‍👧|👩‍👩‍👧‍👦|👩‍👩‍👦‍👦|👩‍👩‍👧‍👧|👨‍👨‍👦|👨‍👨‍👧|👨‍👨‍👧‍👦|👨‍👨‍👦‍👦|👨‍👨‍👧‍👧|👩‍👦|👩‍👧|👩‍👧‍👦|👩‍👦‍👦|👩‍👧‍👧|👨‍👦|👨‍👧|👨‍👧‍👦|👨‍👦‍👦|👨‍👧‍👧|🚗|🚙|🚕|🛺|🚌|🚎|🏎|🚓|🚑|🚒|🚐|🚚|🚛|🚜|🏍|🛵|🚲|🦼|🦽|🛴|🛹|🚨|🚔|🚍|🚘|🚖|🚡|🚠|🚟|🚃|🚋|🚝|🚄|🚅|🚈|🚞|🚂|🚆|🚇|🚊|🚉|🚁|🛩|✈|🛫|🛬|🪂|💺|🛰|🚀|🛸|🛶|⛵|🛥|🚤|⛴|🛳|🚢|⚓|⛽|🚧|🚏|🚦|🚥|🛑|🎡|🎢|🎠|🏗|🌁|🗼|🏭|⛲|🎑|⛰|🏔|🗻|🌋|🗾|🏕|⛺|🏞|🛣|🛤|🌅|🌄|🏜|🏖|🏝|🌇|🌆|🏙|🌃|🌉|🌌|🌠|🎇|🎆|🏘|🏰|🏯|🏟|🗽|🏠|🏡|🏚|🏢|🏬|🏣|🏤|🏥|🏦|🏨|🏪|🏫|🏩|💒|🏛|⛪|🕌|🛕|🕍|🕋|⛩|⌚|📱|📲|💻|⌨|🖥|🖨|🖱|🖲|🕹|🗜|💽|💾|💿|📀|📼|📷|📸|📹|🎥|📽|🎞|📞|☎|📟|📠|📺|📻|🎙|🎚|🎛|⏱|⏲|⏰|🕰|⏳|⌛|🧮|📡|🔋|🔌|💡|🔦|🕯|🧯|🗑|🛢|🛒|💸|💵|💴|💶|💷|💰|💳|🧾|💎|⚖|🦯|🧰|🔧|🔨|⚒|🛠|⛏|🪓|🔩|⚙|⛓|🧱|🔫|🧨|💣|🔪|🗡|⚔|🛡|🚬|⚰|⚱|🏺|🔮|📿|🧿|💈|🧲|⚗|🧪|🧫|🧬|🔭|🔬|🕳|💊|💉|🩸|🩹|🩺|🌡|🏷|🔖|🚽|🚿|🛁|🛀|🪒|🧴|🧻|🧼|🧽|🧹|🧺|🔑|🗝|🛋|🪑|🛌|🛏|🚪|🧳|🛎|🖼|🧭|🗺|⛱|🗿|🛍|🎈|🎏|🎀|🧧|🎁|🎊|🎉|🎎|🎐|🏮|🪔|✉|📩|📨|📧|💌|📮|📪|📫|📬|📭|📦|📯|📥|📤|📜|📃|📑|📊|📈|📉|📄|📅|📆|🗓|📇|🗃|🗳|🗄|📋|🗒|📁|📂|🗂|🗞|📰|📓|📕|📗|📘|📙|📔|📒|📚|📖|🔗|📎|🖇|✂|📐|📏|📌|📍|🧷|🧵|🧶|🔐|🔒|🔓|🔏|🖊|🖋|✒|📝|✏|🖍|🖌|🔍|🔎|👚|👕|🥼|🦺|🧥|👖|👔|👗|👘|🥻|🩱|👙|🩲|🩳|💄|💋|👣|🧦|👠|👡|👢|🥿|👞|👟|🩰|🥾|🧢|👒|🎩|🎓|👑|⛑|🎒|👝|👛|👜|💼|👓|🕶|🥽|🧣|🧤|💍|🌂|☂|☮|✝|☪|🕉|☸|✡|🔯|🕎|☯|☦|🛐|⛎|♈|♉|♊|♋|♌|♍|♎|♏|♐|♑|♒|♓|🆔|⚛|⚕|☢|☣|📴|📳|🈶|🈚|🈸|🈺|🈷|✴|🆚|🉑|💮|🉐|㊙|㊗|🈴|🈵|🈹|🈲|🅰|🅱|🆎|🆑|🅾|🆘|⛔|📛|🚫|❌|⭕|💢|♨|🚷|🚯|🚳|🚱|🔞|📵|🚭|❗|❕|❓|❔|‼|⁉|💯|🔅|🔆|🔱|⚜|〽|⚠|🚸|🔰|♻|🈯|💹|❇|✳|❎|✅|💠|🌀|➿|🌐|♾|Ⓜ|🏧|🚾|♿|🅿|🈳|🈂|🛂|🛃|🛄|🛅|🚰|🚹|♂|🚺|♀|⚧|🚼|🚻|🚮|🎦|📶|🈁|🆖|🆗|🆙|🆒|🆕|🆓|0️⃣|1️⃣|2️⃣|3️⃣|4️⃣|5️⃣|6️⃣|7️⃣|8️⃣|9️⃣|🔟|🔢|▶|⏸|⏯|⏹|⏺|⏏|⏭|⏮|⏩|⏪|🔀|🔁|🔂|◀|🔼|🔽|⏫|⏬|➡️|⬅️|⬆️|⬇️|↗️|↘️|↙️️|🔄|↪|↩|🔃|⤴|⤵️️|🔤|🔡|🔠|🔣|🎵|🎶|〰|➰|✔|➕|➖|➗|✖|💲|💱|©|®|™|🔚|🔙|🔛|🔝|🔜|☑|🔘|🔴|🟠|🟡|🟢|🔵|🟣|🟤|⚫|⚪|🟥|🟧|🟨|🟩|🟦|🟪|🟫|⬛|⬜️|◼|◻|◾|◽|▪|▫|🔸|🔹|🔶|🔷|🔺|🔻|🔲|🔳|🔈|🔉|🔊|🔇|📣|📢|🔔|🔕|🃏|🀄|♠|♣|♥|♦|🎴|👁‍🗨|🗨|💭|🗯|💬|🕐|🕑|🕒|🕓|🕔|🕕|🕖|🕗|🕘|🕙|🕚|🕛|🕜|🕝|🕞|🕟|🕠|🕡|🕢|🕣|🕤|🕥|🕦|🕧|:checkered_flag:|:triangular_flag_on_post:|:crossed_flags:|:flag_black:|:flag_white:|:rainbow_flag:|:pirate_flag:|:flag_ac:|:flag_ad:|:flag_ae:|:flag_af:|:flag_ag:|:flag_ai:|:flag_al:|:flag_am:|:flag_ao:|:flag_aq:|:flag_ar:|:flag_as:|:flag_at:|:flag_au:|:flag_aw:|:flag_ax:|:flag_az:|:flag_ba:|:flag_bb:|:flag_bd:|:flag_be:|:flag_bf:|:flag_bg:|:flag_bh:|:flag_bi:|:flag_bj:|:flag_bl:|:flag_bm:|:flag_bn:|:flag_bo:|:flag_bq:|:flag_br:|:flag_bs:|:flag_bt:|:flag_bv:|:flag_bw:|:flag_by:|:flag_bz:|:flag_ca:|:flag_cc:|:flag_cd:|:flag_cf:|:flag_cg:|:flag_ch:|:flag_ci:|:flag_ck:|:flag_cl:|:flag_cm:|:flag_cn:|:flag_co:|:flag_cp:|:flag_cr:|:flag_cu:|:flag_cv:|:flag_cw:|:flag_cx:|:flag_cy:|:flag_cz:|:flag_de:|:flag_dg:|:flag_dj:|:flag_dk:|:flag_dm:|:flag_do:|:flag_dz:|:flag_ea:|:flag_ec:|:flag_ee:|:flag_eg:|:flag_eh:|:flag_er:|:flag_es:|:flag_et:|:flag_eu:|:flag_fi:|:flag_fj:|:flag_fk:|:flag_fm:|:flag_fo:|:flag_fr:|:flag_ga:|:flag_gb:|:flag_gd:|:flag_ge:|:flag_gf:|:flag_gg:|:flag_gh:|:flag_gi:|:flag_gl:|:flag_gm:|:flag_gn:|:flag_gp:|:flag_gq:|:flag_gr:|:flag_gs:|:flag_gt:|:flag_gu:|:flag_gw:|:flag_gy:|:flag_hk:|:flag_hm:|:flag_hn:|:flag_hr:|:flag_ht:|:flag_hu:|:flag_ic:|:flag_id:|:flag_ie:|:flag_il:|:flag_im:|:flag_in:|:flag_io:|:flag_iq:|:flag_ir:|:flag_is:|:flag_it:|:flag_je:|:flag_jm:|:flag_jo:|:flag_jp:|:flag_ke:|:flag_kg:|:flag_kh:|:flag_ki:|:flag_km:|:flag_kn:|:flag_kp:|:flag_kr:|:flag_kw:|:flag_ky:|:flag_kz:|:flag_la:|:flag_lb:|:flag_lc:|:flag_li:|:flag_lk:|:flag_lr:|:flag_ls:|:flag_lt:|:flag_lu:|:flag_lv:|:flag_ly:|:flag_ma:|:flag_mc:|:flag_md:|:flag_me:|:flag_mf:|:flag_mg:|:flag_mh:|:flag_mk:|:flag_ml:|:flag_mm:|:flag_mn:|:flag_mo:|:flag_mp:|:flag_mq:|:flag_mr:|:flag_ms:|:flag_mt:|:flag_mu:|:flag_mv:|:flag_mw:|:flag_mx:|:flag_my:|:flag_mz:|:flag_na:|:flag_nc:|:flag_ne:|:flag_nf:|:flag_ng:|:flag_ni:|:flag_nl:|:flag_no:|:flag_np:|:flag_nr:|:flag_nu:|:flag_nz:|:flag_om:|:flag_pa:|:flag_pe:|:flag_pf:|:flag_pg:|:flag_ph:|:flag_pk:|:flag_pl:|:flag_pm:|:flag_pn:|:flag_pr:|:flag_ps:|:flag_pt:|:flag_pw:|:flag_py:|<(a)?:([\w\d]{2,32})+:(\d{17,19})>/g)) {
                const [ ,animated,name,id ] = match
                let emoji
                if(id) {
                  emoji = this.client.emojis.cache.get(id) || { 
                    animated: Boolean(animated), id, name, 
                    url: this.client.rest.cdn.Emoji(id, Boolean(animated) ? 'gif' : 'png')
                  }
                } else {
                  emoji = {
                    name: match[0],
                    id: match[0]
                  }
                }
                if(this._emojis.get(emoji.id)) this._emojis.set(emoji.id + "~" + Number(this._emojis.filter(x => x.id == emoji.id).size + 1), emoji)
                else this._emojis.set(emoji.id, emoji)
            }
            return this._emojis
        }
    }
})